<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WMS Undersized Locations Widget</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* A slightly darker gray for better contrast */
        }
        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .widget-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
        }
        .widget-content {
            padding: 1rem;
        }
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' class='h-5 w-5' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }
    </style>
</head>
<body class="text-gray-800 p-4 md:p-8">

    <!-- Main Widget Container -->
    <main class="max-w-md mx-auto">

        <!-- WMS Undersized Locations Widget -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="widget-header">
                <h2 class="widget-title">WMS Undersized Locations</h2>
                <div class="flex items-center space-x-2">
                     <svg class="w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h5M20 20v-5h-5"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 9a9 9 0 0114.65-5.24l-2.65 2.64M20 15a9 9 0 01-14.65 5.24l2.65-2.64"></path></svg>
                     <svg class="w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>
                </div>
            </div>
            <div class="widget-content">
                <label for="facility" class="block text-sm font-medium text-gray-700">Choose Facility:</label>
                <select id="facility" name="facility" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                    <option>DETROIT</option>
                    <option>CHICAGO</option>
                    <option>MIAMI</option>
                    <option>F10N</option>
                    <option>F10A</option>
                    <option>WHSE-003</option>
                    <option>JAKARTA</option>
                    <option>BALI</option>
                    <option>Fliway</option>
                    <option>WHSE-007</option>
                    <option>Tokyo</option>
                    <option>XTXT-WH01</option>
                    <option>Bangkok</option>
                    <option>Kuala Lumpur</option>
                </select>
                
                <div class="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-800">
                    The following picking locations have had higher than normal pick quantities for the past 7 days, and therefore have been replenished more than usual. You should consider relocating these SKUs to larger locations.
                </div>

                <table class="w-full mt-4 text-left text-sm">
                    <thead>
                        <tr class="border-b bg-gray-50">
                            <th class="p-2 font-medium">Owner</th>
                            <th class="p-2 font-medium">Part</th>
                            <th class="p-2 font-medium">Pick Loc</th>
                            <th class="p-2 font-medium"># Replens</th>
                        </tr>
                    </thead>
                    <tbody id="locations-table-body">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <script>
        const facilityData = {
            'DETROIT': [
                { owner: '7700', part: '12322992', pickLoc: 'KR141A', replens: '2.75' },
                { owner: '7700', part: '245547', pickLoc: 'KR108A', replens: '2.50' },
                { owner: '7700', part: '344648', pickLoc: 'KR088A', replens: '2.33' },
                { owner: '0803', part: 'ADMZ06GZ', pickLoc: 'BR220A', replens: '1.96' }
            ],
            'CHICAGO': [
                { owner: '5510', part: '58934511', pickLoc: 'CH332B', replens: '3.10' },
                { owner: '5510', part: '98451235', pickLoc: 'CH101C', replens: '2.85' }
            ],
            'MIAMI': [
                { owner: 'MI01', part: 'PALM305', pickLoc: 'A1-S3', replens: '2.21' },
                { owner: 'MI02', part: 'OCEANDRV', pickLoc: 'C4-S1', replens: '2.15' },
                { owner: 'MI01', part: 'SUNNY99', pickLoc: 'B2-S5', replens: '1.88' }
            ],
            'F10N': [
                { owner: 'FN01', part: 'FN-1001', pickLoc: 'A01-01A', replens: '2.90' },
                { owner: 'FN02', part: 'FN-1002', pickLoc: 'A01-02B', replens: '2.45' }
            ],
            'F10A': [
                { owner: 'FA01', part: 'FA-2001', pickLoc: 'B02-03C', replens: '2.66' },
                { owner: 'FA01', part: 'FA-2002', pickLoc: 'B02-04D', replens: '2.11' }
            ],
            'WHSE-003': [
                { owner: 'W300', part: 'W3-PART1', pickLoc: 'R3-S1-P1', replens: '3.05' }
            ],
            'JAKARTA': [
                { owner: 'JKT', part: 'ID-JKT-01', pickLoc: 'JKT-A-01', replens: '2.98' },
                { owner: 'JKT', part: 'ID-JKT-02', pickLoc: 'JKT-B-05', replens: '2.76' }
            ],
            'BALI': [
                { owner: 'BAL', part: 'ID-BAL-01', pickLoc: 'BAL-C-03', replens: '1.99' }
            ],
            'Fliway': [
                { owner: 'FLW', part: 'FL-5500', pickLoc: 'FW-01-01', replens: '2.53' },
                { owner: 'FLW', part: 'FL-5501', pickLoc: 'FW-01-02', replens: '2.49' }
            ],
            'WHSE-007': [
                { owner: 'W700', part: 'W7-PARTX', pickLoc: 'R7-S4-P2', replens: '2.81' },
                { owner: 'W700', part: 'W7-PARTY', pickLoc: 'R7-S5-P3', replens: '2.63' }
            ],
            'Tokyo': [
                { owner: 'TYO', part: 'JP-TYO-88', pickLoc: 'TKY-R1-S1', replens: '3.15' },
                { owner: 'TYO', part: 'JP-TYO-99', pickLoc: 'TKY-R2-S2', replens: '2.95' }
            ],
            'XTXT-WH01': [
                { owner: 'XTXT', part: 'XT-001', pickLoc: 'X-A1', replens: '2.00' }
            ],
            'Bangkok': [
                { owner: 'BKK', part: 'TH-BKK-1', pickLoc: 'BKK-Z1-A1', replens: '2.78' },
                 { owner: 'BKK', part: 'TH-BKK-2', pickLoc: 'BKK-Z1-A2', replens: '2.51' }
            ],
            'Kuala Lumpur': [
                { owner: 'KUL', part: 'MY-KL-01', pickLoc: 'KL-01-01', replens: '2.88' },
                { owner: 'KUL', part: 'MY-KL-02', pickLoc: 'KL-02-03', replens: '2.44' },
                { owner: 'KUL', part: 'MY-KL-03', pickLoc: 'KL-03-05', replens: '2.12' }
            ]
        };

        const facilitySelect = document.getElementById('facility');
        const tableBody = document.getElementById('locations-table-body');

        function updateTable(facilityId) {
            // Clear current table data
            tableBody.innerHTML = '';
            
            // Get data for the selected facility, or an empty array if not found
            const data = facilityData[facilityId] || [];

            if (data.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="4" class="p-2 text-center text-gray-500">No data available for this facility.</td>`;
                tableBody.appendChild(row);
                return;
            }

            // Populate table with new data
            data.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b';
                row.innerHTML = `
                    <td class="p-2">${item.owner}</td>
                    <td class="p-2">${item.part}</td>
                    <td class="p-2 font-mono">${item.pickLoc}</td>
                    <td class="p-2">${item.replens}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Event listener for dropdown change
        facilitySelect.addEventListener('change', (event) => {
            updateTable(event.target.value);
        });

        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            updateTable(facilitySelect.value);
        });
    </script>
</body>
</html>

